{%~ autoescape false %}
{%~ for controller in routes.controllers %}
    {%~ for action in controller.actions %}
{{ routes.serviceNamespace }}_{{ action.serviceName }}:
    path: {{ action.route }}
    {%~ if action.parameters(['path']) %}
    requirements:
        {%~ for param in action.parameters(['path']) %}
        {{ param.rawName }}: '{{ param.routeRequirementPattern }}'
        {%~ endfor %}
    {%~ endif %}
    methods: {{ action.method }}
    controller: {{ controller.namespace }}\{{ controller.className }}::{{ action.name }}
        {%~ if not loop.last %}

        {%~ endif %}
    {%~ endfor %}
    {%~ if not loop.last %}

    {%~ endif %}
{%~ endfor %}
{%~ endautoescape %}
