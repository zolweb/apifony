{%~ for pathItem in pathItems %}
    {%~ for operation in pathItem.operations %}
{{ namespace|u.snake }}_{{ operation.operationId|u.snake }}:
    path: {{ operation.pathItem.route }}
    controller: {{ namespace }}\{{ operation.tag[0] ?? 'Default' }}Controller::{{ operation.operationId|u.camel }}
        {%~ if operation.allSortedParameters(['path']) %}
    requirements:
            {%~ for param in operation.allSortedParameters(['path']) %}
        {{ param.name }}: '{{ param.schema.type.routeRequirementPattern|e('phpSingleQuotedString') }}'
            {%~ endfor %}
        {%~ endif %}
    methods: {{ operation.method }}
    priority: {{ operation.priority }}
        {%~ if not loop.last %}

        {%~ endif %}
    {%~ endfor %}
    {%~ if not loop.last %}

    {%~ endif %}
{%~ endfor %}