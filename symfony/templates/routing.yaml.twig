{%~ for operation in paths.allSortedOperations %}
{{ namespace|u.snake }}_{{ operation.operationId|u.snake }}:
    path: {{ operation.pathItem.route }}
    {%~ if operation.allSortedParameters(['path']) %}
    requirements:
        {%~ for param in operation.allSortedParameters(['path']) %}
        {{ param.name }}: '{{ param.schema.type.routeRequirementPattern|e('phpSingleQuotedString') }}'
        {%~ endfor %}
    {%~ endif %}
    methods: {{ operation.method }}
    controller: {{ namespace }}\{{ operation.tag[0] ?? 'Default' }}Controller::{{ operation.operationId|u.camel }}
    {%~ if not loop.last %}

    {%~ endif %}
{%~ endfor %}