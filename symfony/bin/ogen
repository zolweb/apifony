#!/usr/bin/env php
<?php

error_reporting(-1);
ini_set('display_errors', 1);

use App\Command\Bundle\Exception as BundleException;
use App\Command\GenService;
use App\Command\OpenApi\Exception as OpenApiException;

require __DIR__.'/../vendor/autoload.php';

try {
    (new GenService())->generate($argv[1], $argv[2], $argv[3], $argv[4], $argv[5]);
} catch (BundleException|OpenApiException $e) {
    throw new RuntimeException($e->getMessage(), 0, $e);
}

return 0;